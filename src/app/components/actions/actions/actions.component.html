<div class="background-container">
    <app-navbar></app-navbar>
  
    <div class="custom-form">
      <div class="my-form">

          <div class="cotainer-fluid">
              <div class="row">
                  <!-- <div class="col-12 float-end" routerLink="/transfer">
                      <button class="create-button float-end" >
                          <i class="fa-solid fa-plus"></i> انشاء تحويل
                      </button>
                  </div> -->

                  <div class="custom-header">
                    <!-- Dropdown Menu -->
                    <div class="header-controls">
                      <!-- <select class="dropdown-select">
                        <option selected disabled>الكل</option>
                        <option>كشف المتابعة</option>
                        <option>كشف التفاعل</option>
                        <option>كشف السلوكيات</option>
                        <option>كشف التحضير</option>
                      </select> -->

                      <div class="search-wrapper">
                        <i class="fa fa-search search-icon"></i>
                        <input
                          type="text"
                          class="search-box"
                          placeholder="قم بالبحث هنا"
                        />
                      </div>
                    </div>
                  
                    <!-- Buttons -->
                    <div class="header-buttons">
                      <button
                        class="header-btn"
                        *ngFor="let button of buttons; let i = index"
                        [ngClass]="{ 'active': activeButton === i }"
                        (click)="setActiveButton(i)"
                        [routerLink]="getRouterLink(i)"
                      >
                        {{ button }}
                      </button>
                    </div>
                  </div>
                  
              </div>
          </div>
          
  
        <hr class="separator" />

<div class="compoRow">
        <div class="container-fluid  d-flex justify-content-between align-items-center" style="direction: rtl;">
            <div class="right-content">
              <h2 class="title text-end">كشف التفاعل</h2>
            </div>
          
            <div class="left-content">
                <button
                id="addContractBtn"
                class="button add-contract-btn"
                data-bs-toggle="modal"
                data-bs-target="#createModal"
                [ngClass]="{
                  active: addContractActive,
                  inactive: !addContractActive
                }"
                (click)="toggleDateRow()"
              >
              فلترة <i class="fa-solid fa-sliders me-2"></i> 
              </button>
          
            </div>

          </div>

          
          <div class="row" *ngIf="isDateShow" >
            <div class="col-12">
              <!-- Date Fields -->
              <div class="date-fields">
                <div class="date-field">
                  
                  <div class="input-group">
                    <input
                      type="date"
                      id="endDate"
                      class="form-control custom-date"
                      placeholder="00/00/0000"
                      #endDate
                    />
                  </div>
                  <label for="endDate" class="date-label">الي تاريخ</label>
                </div>
              
                <div class="date-field">
                  
                  <div class="input-group">
                    <input
                      type="date"
                      id="startDate"
                      class="form-control custom-date"
                      placeholder="00/00/0000"
                      #startDate
                    />
                  </div>
                  <label for="startDate" class="date-label">من تاريخ</label>
                </div>
              </div>
              
            </div>
          </div>

        </div>

          
     
  
        
         
        <div class="card-grid">
          <div class="card" *ngFor="let card of cards">
              <div class="overlay">
  
                  <div class="overlay-buttons">
                      <button
                        class="overlay-button"
                        [ngClass]="{ active: card.activeButton === 'view' }"
                        (click)="onButtonClick(card, 'view')"
                        data-bs-toggle="modal"
                        data-bs-target="#viewModal"
                      >
                        عرض
                      </button>
                      <button
                        class="overlay-button"
                        [ngClass]="{ active: card.activeButton === 'send' }"
                        (click)="onButtonClick(card, 'send')"
                      >
                      pdf تصدير 
                      </button>
                    </div>
  
                    <img
                    src="../../../assets/images/whiteCross.png"
                    width="30px"
                    height="30px"
                    class="x-icon"
                    (click)="toggleMenu2(card)"
                  />
                  <div *ngIf="card.isMenuOpen" class="small-menu">
                      <button
                        (click)="menuAction('Delete')"
                        class="me-2"
                        data-bs-toggle="modal"
                        data-bs-target="#deleteModal"
                      >
                        <img
                          src="../../../assets/images/trash-2.png"
                          width="20px"
                          height="20px"
                        />
                      </button>
                      <button (click)="menuAction('Edit')" class="me-2">
                        <img
                          src="../../../assets/images/edit-4.png"
                          width="20px"
                          height="20px"
                        />
                      </button>
                      <!-- <button>
                        <img
                          src="../../../assets/images/calendar-link.png"
                          width="20px"
                          height="20px"
                        />
                      </button> -->
                    </div>
  
                  </div>
            <!-- Top section: Number and Label -->
            <div class="card-header">
              <span class="card-number">{{ card.number }}</span>
              <span class="card-label">{{ card.label }}</span>
            </div>
        
            <!-- Center content: Main text -->
            <div class="card-content">
           الفترة الاولي
            </div>
        
            <!-- Bottom section: Date label and input -->
            <div class="card-footer">
              <input type="date" id="date-{{ card.number }}" [(ngModel)]="card.date" />
              <label for="date-{{ card.number }}">تاريخ الانشاء</label>
            </div>
          </div>
        </div>
        
            
  
         
    
      </div>
    </div>
  </div>
  